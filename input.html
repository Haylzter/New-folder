<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search JSON Data</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <input type="text" id="searchInput" placeholder="Enter property name..." oninput="searchData()">
    <button onclick="searchData()">Search</button>
    <br><br>
    <div id="resultsDiv"></div>

    <div class="gallery-container" id="galleryContainer">
        <div class="gallery-row"></div>
    </div>

    <script>
        function searchData() {
            var searchInput = document.getElementById("searchInput").value.trim();
            var url = "https://haylzter.github.io/New-folder/data.json";
            
            // If search input is empty, clear results and return
            if (searchInput === "") {
                document.getElementById("resultsDiv").innerHTML = "";
                return;
            }

            // Using Fetch API to make AJAX request
            fetch(url)
                .then(response => response.json()) // Convert response to JSON
                .then(data => {
                    var resultsDiv = document.getElementById("resultsDiv");
                    resultsDiv.innerHTML = ""; // Clear previous results

                    var filteredProperties = data.filter(item => item.name.toLowerCase().includes(searchInput.toLowerCase()));
                    filteredProperties.forEach(property => {
                        var propertyDiv = document.createElement("div");
                        propertyDiv.innerHTML = `
                            <h3>${property.name}</h3>
                            <p>${property.propertyDescription}</p>
                            <p>Dates Available: ${property.datesAvailable}</p>
                            <p>Cost: ${property.cost}</p>
                            <p>Stars: ${property.stars}</p>
                        `;

                        // Append photos
                        property.photos.forEach(photo => {
                            var img = document.createElement("img");
                            img.src = photo;
                            img.style.width = "200px";
                            propertyDiv.appendChild(img);
                        });

                        resultsDiv.appendChild(propertyDiv);
                    });
                })
                .catch(error => console.error('Error fetching data:', error)); // Error handling
        }
    </script>
    <script src="gallery1.js"></script> <!-- Your JavaScript code for the gallery -->
</body>
</html>